
@model IEnumerable<iShop_ht.Models.I_class>


<ul class="catalog__ul">
    @foreach (var node in Model.Where(n => n.Upcode == 0))
    {

        <li class="catalog__ul_li">
            @if (node.Isgroup == true)
            {
                <div class="new__li flex">
                    <p class="new__li_znak flex"></p>
                    @*<a id="update-container" tree_id=@node.Code.ToString()>@node.Name</a>*@
                    @Ajax.ActionLink(@node.Name, "Empty", "Home", new { Id = @node.Code }, new AjaxOptions { UpdateTargetId = "list_items" })

                </div>
            }

            else
            {
                <div class="new__li0 flex">
                    <p class="new__li_noznak"></p>
                    @*<a id="update-container" tree_id=@node.Code.ToString()>@node.Name</a>*@
                    @Ajax.ActionLink(@node.Name, "Empty", "Home", new { Id = @node.Code }, new AjaxOptions { UpdateTargetId = "list_items" })

                </div>
            }

            @foreach (var node2 in Model.Where(n => n.Upcode == node.Code))
                {
                <ul class="catalog__ul1">
                    @if (node2.Isgroup == true)
                    {
                        <div class="new__li flex">
                            <p class="new__li_znak flex"></p>
                            @*<a id="update-container" tree_id=@node2.Code.ToString()>@node2.Name</a>*@
                            @Ajax.ActionLink(@node2.Name, "Empty", "Home", new { Id = @node2.Code }, new AjaxOptions { UpdateTargetId = "list_items" })

                            @foreach (var node3 in Model.Where(n => n.Upcode == node2.Code))
                            {
                                <ul class="catalog__ul1">
                                    @if (node3.Isgroup == true)
                                    {
                                        <div class="new__li flex">
                                            <p class="new__li_znak flex"></p>
                                            @*<a id="update-container" tree_id=@node3.Code.ToString()>@node3.Name</a>*@
                                            @Ajax.ActionLink(@node3.Name, "Empty", "Home", new { Id = @node3.Code }, new AjaxOptions { UpdateTargetId = "list_items" })
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="new__li0 flex">
                                            <p class="new__li_noznak"></p>
                                            @*<a id="update-container" tree_id=@node3.Code.ToString()>@node3.Name</a>*@
                                            @Ajax.ActionLink(@node3.Name, "IndexClassPart", "Home", new { Id = @node3.Code }, new AjaxOptions { UpdateTargetId = "bestbook" })

                                        </div>
                                    }

                                </ul>

                            }

                        </div>
                    }
                    else
                    {
                        <div class="new__li0 flex">
                            <p class="new__li_noznak"></p>
                            @*<a id="update-container" tree_id=@node2.Code.ToString()>@node2.Name</a>*@
                            @Ajax.ActionLink(@node2.Name, "IndexClassPart", "Home", new { ClassId = @node2.Code }, new AjaxOptions { UpdateTargetId = "bestbook" })
                        </div>
                    }

                </ul>

            }


        </li>

    }
</ul>
